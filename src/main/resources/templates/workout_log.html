<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>ìš´ë™ ê¸°ë¡í•˜ê¸°</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f2f2f2; margin: 0; padding: 0; }
        nav { position: fixed; top: 10px; left: 10px; z-index: 999; }
        nav button { padding: 8px 16px; font-size: 14px; background-color: #555; color: white; border: none; border-radius: 6px; cursor: pointer; }
        nav button:hover { background-color: #777; }
        header { background: #212121; color: white; padding: 20px; text-align: center; }
        .container { max-width: 600px; margin: 40px auto; padding: 20px; background: #fff; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
        .form-group { margin-bottom: 20px; text-align: left; }
        .form-group label { display: block; margin-bottom: 8px; font-weight: bold; }
        .form-group input, .form-group textarea { width: 100%; padding: 12px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; }
        button { padding: 14px 28px; font-size: 18px; background-color: #4CAF50; color: white; border: none; border-radius: 8px; cursor: pointer; }
        button:hover { background-color: #388e3c; }
        .record-list { margin-top: 30px; background: #f9f9f9; padding: 15px; border-radius: 8px; max-height: 300px; overflow-y: auto; }
        .record-item { display: flex; justify-content: space-between; align-items: center; padding: 10px; border-bottom: 1px solid #ccc; }
        .record-text { flex: 1; }
        .delete-btn { background-color: #e53935; color: white; border: none; padding: 8px 12px; border-radius: 6px; cursor: pointer; font-size: 14px; }
        .delete-btn:hover { background-color: #b71c1c; }
    </style>
</head>
<body>

<!-- ìƒë‹¨ ë‚˜ê°€ê¸°(í™ˆ) ë²„íŠ¼ -->
<nav>
    <button onclick="goHome()"> ë‚˜ê°€ê¸°</button>
</nav>

<header>
    <h1>ìš´ë™ ê¸°ë¡í•˜ê¸°</h1>
</header>

<div class="container">
    <div class="form-group">
        <label for="date">ë‚ ì§œ</label>
        <input type="date" id="date">
    </div>

    <div class="form-group">
        <label for="routine">ìš´ë™ ë£¨í‹´</label>
        <input type="text" id="routine" placeholder="ì˜ˆ: ê°€ìŠ´ ìš´ë™, í•˜ì²´ ìš´ë™ ë“±">
    </div>

    <div class="form-group">
        <label for="memo">ë©”ëª¨</label>
        <textarea id="memo" rows="4" placeholder="ë©”ëª¨ë¥¼ ì…ë ¥í•˜ì„¸ìš”..."></textarea>
    </div>

    <button onclick="saveRecord()">ì €ì¥í•˜ê¸°</button>

    <div class="record-list" id="record-list">
        <h3>ğŸ“‹ ì €ì¥ëœ ê¸°ë¡</h3>
    </div>
</div>

<script>
    function goHome() {
        window.location.href = "/";
    }

    function saveRecord() {
        const date = document.getElementById('date').value;
        const routine = document.getElementById('routine').value.trim();
        const memo = document.getElementById('memo').value.trim();

        if (!date || !routine) {
            alert('ë‚ ì§œì™€ ìš´ë™ ë£¨í‹´ì€ í•„ìˆ˜ ì…ë ¥ì…ë‹ˆë‹¤!');
            return;
        }

        const record = {
            id: Date.now(), // ê³ ìœ  ID ì¶”ê°€
            date: date,
            routine: routine,
            memo: memo
        };

        let records = JSON.parse(localStorage.getItem('workoutRecords')) || [];
        records.push(record);
        localStorage.setItem('workoutRecords', JSON.stringify(records));

        displayRecords();

        document.getElementById('date').value = '';
        document.getElementById('routine').value = '';
        document.getElementById('memo').value = '';
    }

    function displayRecords() {
        const records = JSON.parse(localStorage.getItem('workoutRecords')) || [];
        const recordList = document.getElementById('record-list');

        recordList.innerHTML = '<h3>ğŸ“‹ ì €ì¥ëœ ê¸°ë¡</h3>';

        if (records.length === 0) {
            recordList.innerHTML += '<p>ì €ì¥ëœ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
            return;
        }

        records.slice().reverse().forEach(record => {
            const div = document.createElement('div');
            div.className = 'record-item';
            div.innerHTML = `
                <div class="record-text">
                    <strong>${record.date}</strong><br>ğŸ‹ï¸â€â™‚ï¸ ${record.routine}<br>ğŸ“ ${record.memo || 'ë©”ëª¨ ì—†ìŒ'}
                </div>
                <button class="delete-btn" onclick="deleteRecord(${record.id})">ì‚­ì œ</button>
            `;
            recordList.appendChild(div);
        });
    }

    function deleteRecord(id) {
        let records = JSON.parse(localStorage.getItem('workoutRecords')) || [];
        records = records.filter(record => record.id !== id);
        localStorage.setItem('workoutRecords', JSON.stringify(records));
        displayRecords();
    }

    window.onload = displayRecords;
</script>

</body>
</html>
